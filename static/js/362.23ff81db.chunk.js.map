{"version":3,"file":"static/js/362.23ff81db.chunk.js","mappings":"0NACA,EAAwB,sBAAxB,EAAwF,4BCDlFA,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NASN,EALkB,SAAAC,GAAO,OACvBC,MAAM,mDAAD,OACgDD,EADhD,8CAEHL,EAHqB,E,kBCqJzB,EAzEe,WAAO,IAAD,EACnB,GAA4BO,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAUMX,EAAO,UAAGU,EAAaE,IAAI,kBAApB,QAAkC,GAEzCC,GAAWC,EAAAA,EAAAA,MA2BjB,OACE,4BACE,kBACEC,KAAK,OACLC,MAAOhB,EACPiB,UAAWC,EACXC,SA1CoB,SAAAC,GACxB,IAAMC,EAAeD,EAAIE,OAAON,MAGhCL,EAAgB,CAAEX,QAASqB,IAC3BE,QAAQC,IAAId,EACb,KAsCG,mBAAQK,KAAK,SAASE,UAAWC,EAAiBO,QAjBjC,WAfnBjB,GAAa,GAEbkB,EAAU1B,GACP2B,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAb,IACbF,MAAK,SAAAG,GACJ1B,EAAU0B,EAAKC,QAChB,IACAC,OAAM,SAAA3B,GACLC,EAASD,EAAM4B,QAChB,IACAC,SAAQ,WACP1B,GAAa,EACd,GAUJ,EAUG,SAAyE,YAGzE,+BACGH,GAASC,EAASD,EAAM4B,SACxB1B,IAAa,SAAC,KAAD,KACd,wBACGJ,EAAOgC,KAAI,SAAAC,GACV,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAME,IAAMC,MAAO,CAAEC,KAAM3B,GAAxC,SACGuB,EAAMK,SAFFL,EAAME,GAMlB,WAKV,C","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","services/Api/Search.js","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Movies_input__KrUqs\",\"form\":\"Movies_form__4ow+Z\",\"form_button\":\"Movies_form_button__9uqYm\",\"form_button_label\":\"Movies_form_button_label__3DS9I\"};","const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzN2ZjNmQ2ZDk3Y2RjYjQ2MWY4ODRlODNiYjk4YTc5OSIsInN1YiI6IjY0YTcwNjczOTY1MjIwMDBhZTg0MjcwNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._FssleSwH7ZT_5bsWB87BjRy28BwzRkGD1qx-exsCrk',\n  },\n};\n\nconst getImages = movieId =>\n  fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${movieId}&include_adult=false&language=en-US&page=1`,\n    options\n  );\nexport default getImages;\n","// import { useSearchParams, useLocation, Link } from 'react-router-dom';\n// import { useState, useEffect } from 'react';\n// import css from './Movies.module.css';\n// import getImages from 'services/Api/Search';\n// import { ColorRing } from 'react-loader-spinner';\n\n// const Movies = () => {\n//   const [movies, setMovies] = useState([]);\n//   const [error, setError] = useState(null);\n//   const [isLoading, setIsLoading] = useState(false);\n//   const [searchParams, setSearchParams] = useSearchParams();\n\n//   const updateQueryString = evt => {\n//     const movieIdValue = evt.target.value;\n//     if (movieIdValue === '') {\n//       return setSearchParams({});\n//     }\n//     setSearchParams({ movieId: movieIdValue });\n//   };\n\n//   const movieId = searchParams.get('movieId') ?? '';\n\n//   const location = useLocation();\n\n//   useEffect(() => {\n//     const fetchImages = () => {\n//       setIsLoading(true);\n\n//       getImages(movieId)\n//         .then(response => response.json())\n//         .then(data => {\n//           setMovies(data.results);\n//         })\n//         .catch(error => {\n//           setError(error.message);\n//         })\n//         .finally(() => {\n//           setIsLoading(false);\n//         });\n//     };\n\n//     fetchImages();\n//   }, [movieId]);\n//   return (\n//     <div>\n//       {error && setError(error.message)}\n\n//       <input\n//         type=\"text\"\n//         value={movieId}\n//         className={css.input}\n//         onChange={updateQueryString}\n//       />\n//       <button\n//         type=\"submit\"\n//         className={css.form_button}\n//         onClick={updateQueryString}\n//       >\n//         Search\n//       </button>\n//       <section>\n//         {error && setError(error.message)}\n//         {isLoading && <ColorRing />}\n//         <ul>\n//           {movies.map(movie => {\n//             return (\n//               <li key={movie.id}>\n//                 <Link to={`${movie.id}`} state={{ from: location }}>\n//                   {movie.title}\n//                 </Link>\n//               </li>\n//             );\n//           })}\n//         </ul>\n//       </section>\n//     </div>\n//   );\n// };\n// export default Movies;\nimport { useSearchParams, useLocation, Link } from 'react-router-dom';\nimport { useState } from 'react';\nimport css from './Movies.module.css';\nimport getImages from 'services/Api/Search';\nimport { ColorRing } from 'react-loader-spinner';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  // const [searchValue, setSearchValue] = useState('');\n\n  const updateQueryString = evt => {\n    const movieIdValue = evt.target.value;\n    // setSearchValue(movieIdValue);\n    // console.log(movieIdValue);\n    setSearchParams({ movieId: movieIdValue });\n    console.log(searchParams);\n  };\n  const movieId = searchParams.get('movieId') ?? '';\n\n  const location = useLocation();\n\n  const fetchImages = () => {\n    setIsLoading(true);\n\n    getImages(movieId)\n      .then(response => response.json())\n      .then(data => {\n        setMovies(data.results);\n      })\n      .catch(error => {\n        setError(error.message);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const handleSearch = () => {\n    // if (searchValue === '') {\n    //   setSearchParams({});\n    // } else {\n    //   setSearchParams({ movieId: searchValue });\n    // }\n    fetchImages();\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={movieId}\n        className={css.input}\n        onChange={updateQueryString}\n      />\n      <button type=\"submit\" className={css.form_button} onClick={handleSearch}>\n        Search\n      </button>\n      <section>\n        {error && setError(error.message)}\n        {isLoading && <ColorRing />}\n        <ul>\n          {movies.map(movie => {\n            return (\n              <li key={movie.id}>\n                <Link to={`${movie.id}`} state={{ from: location }}>\n                  {movie.title}\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      </section>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["options","method","headers","accept","Authorization","movieId","fetch","useState","movies","setMovies","error","setError","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","get","location","useLocation","type","value","className","css","onChange","evt","movieIdValue","target","console","log","onClick","getImages","then","response","json","data","results","catch","message","finally","map","movie","to","id","state","from","title"],"sourceRoot":""}